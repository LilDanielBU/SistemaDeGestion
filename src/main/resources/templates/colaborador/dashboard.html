<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mis Tareas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/colaborador-styles.css}">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand">Mis Tareas</a>

        <form class="d-flex ms-auto" th:action="@{/logout}" method="post">
            <button class="btn btn-outline-light" type="submit">Cerrar SesiÃ³n</button>
        </form>

    </div>
</nav>
<div class="container mt-4">
    <h1>Tareas Asignadas</h1>
    <div th:if="${misTareas.isEmpty()}" class="alert alert-info">No tienes tareas asignadas.</div>
    <div class="list-group" th:if="${!misTareas.isEmpty()}">

        <a th:each="tarea : ${misTareas}" th:href="@{/mis-tareas/{id}(id=${tarea.idTarea})}" class="list-group-item list-group-item-action">
            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1" th:text="${tarea.titulo}"></h5>
                <small class="text-muted" th:text="${tarea.proyecto.nombre}"></small>
            </div>
            <p class="mb-1">
                <span class="badge" th:classappend="${tarea.estado?.name() == 'Pendiente' ? 'bg-secondary' : 'bg-success'}" th:text="${tarea.estado}"></span>
            </p>
        </a>

    </div>
</div>
</body>
</html>